"use strict";(self.webpackChunk_viotemplate_docs=self.webpackChunk_viotemplate_docs||[]).push([[785],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var i=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var a=i.createContext({}),p=function(e){var t=i.useContext(a),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return i.createElement(a.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,a=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),h=r,m=u["".concat(a,".").concat(h)]||u[h]||d[h]||l;return n?i.createElement(m,s(s({ref:t},c),{},{components:n})):i.createElement(m,s({ref:t},c))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,s=new Array(l);s[0]=u;var o={};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var p=2;p<l;p++)s[p]=n[p];return i.createElement.apply(null,s)}return i.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4797:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return d},default:function(){return y},frontMatter:function(){return c},metadata:function(){return u},toc:function(){return h}});var i=n(7462),r=n(3366),l=n(7294),s=n(3905),o=n(2825),a=function(e){var t=function(e){return Object.entries(e).map((function(e){return{name:e[0],version:e[1]}}))}("production"===e.type?o.dependencies:o.devDependencies);return l.createElement("table",null,l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,"Tool"),l.createElement("th",null,"Version"))),l.createElement("tbody",null,t.map((function(e){return l.createElement("tr",null,l.createElement("td",null,e.name),l.createElement("td",null,e.version))}))))},p=["components"],c={sidebar_position:1},d="Tools",u={unversionedId:"Packages/server/tools",id:"Packages/server/tools",title:"Tools",description:"Here's a summary of the tools used in this project and their versions.",source:"@site/docs/Packages/server/tools.mdx",sourceDirName:"Packages/server",slug:"/Packages/server/tools",permalink:"/docs/Packages/server/tools",editUrl:"https://github.com/otaviotech/ts-monorepo/tree/main/packages/docs/docs/Packages/server/tools.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Tutorial",permalink:"/docs/Contributing/Tutorial"},next:{title:"Architecture",permalink:"/docs/Packages/server/architecture"}},h=[{value:"Runtime tools",id:"runtime-tools",children:[{value:"@prisma/client",id:"prismaclient",children:[],level:3},{value:"bcrypt",id:"bcrypt",children:[],level:3},{value:"body-parser",id:"body-parser",children:[],level:3},{value:"dotenv",id:"dotenv",children:[],level:3},{value:"express",id:"express",children:[],level:3},{value:"helmet",id:"helmet",children:[],level:3},{value:"http-status-codes",id:"http-status-codes",children:[],level:3},{value:"inversify",id:"inversify",children:[],level:3},{value:"reflect-metadata",id:"reflect-metadata",children:[],level:3},{value:"tsconfig-paths",id:"tsconfig-paths",children:[],level:3},{value:"yup",id:"yup",children:[],level:3}],level:2},{value:"Development tools",id:"development-tools",children:[{value:"@redocly/openapi-cli",id:"redoclyopenapi-cli",children:[],level:3},{value:"@types/bcrypt",id:"typesbcrypt",children:[],level:3},{value:"@types/express",id:"typesexpress",children:[],level:3},{value:"@types/jest",id:"typesjest",children:[],level:3},{value:"@types/node",id:"typesnode",children:[],level:3},{value:"@types/shelljs",id:"typesshelljs",children:[],level:3},{value:"@types/supertest",id:"typessupertest",children:[],level:3},{value:"@typescript-eslint/eslint-plugin",id:"typescript-eslinteslint-plugin",children:[],level:3},{value:"@typescript-eslint/parser",id:"typescript-eslintparser",children:[],level:3},{value:"eslint",id:"eslint",children:[],level:3},{value:"eslint-config-airbnb-base",id:"eslint-config-airbnb-base",children:[],level:3},{value:"eslint-config-airbnb-typescript",id:"eslint-config-airbnb-typescript",children:[],level:3},{value:"eslint-config-prettier",id:"eslint-config-prettier",children:[],level:3},{value:"eslint-config-plugin-import",id:"eslint-config-plugin-import",children:[],level:3},{value:"factory.ts",id:"factoryts",children:[],level:3},{value:"faker",id:"faker",children:[],level:3},{value:"jest",id:"jest",children:[],level:3},{value:"jest-mock-extended",id:"jest-mock-extended",children:[],level:3},{value:"prettier",id:"prettier",children:[],level:3},{value:"prisma",id:"prisma",children:[],level:3},{value:"redoc-cli",id:"redoc-cli",children:[],level:3},{value:"shelljs",id:"shelljs",children:[],level:3},{value:"supertest",id:"supertest",children:[],level:3},{value:"ts-jest",id:"ts-jest",children:[],level:3},{value:"typescript",id:"typescript",children:[],level:3}],level:2}],m={toc:h};function y(e){var t=e.components,n=(0,r.Z)(e,p);return(0,s.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"tools"},"Tools"),(0,s.kt)("p",null,"Here's a summary of the tools used in this project and their versions."),(0,s.kt)("p",null,"A deep dive of each dependency is available at 'LINK'."),(0,s.kt)("h2",{id:"runtime-tools"},"Runtime tools"),(0,s.kt)(a,{type:"production",mdxType:"ToolsTable"}),(0,s.kt)("h3",{id:"prismaclient"},"@prisma/client"),(0,s.kt)("p",null,"This is the Prisma client. It's used to actually perform the connection and\nqueries to the database."),(0,s.kt)("h3",{id:"bcrypt"},"bcrypt"),(0,s.kt)("p",null,"This is a popular cryptography tool."),(0,s.kt)("p",null,"Currently we only use it to hash the user's password with a salt before\nstoring them in the database."),(0,s.kt)("h3",{id:"body-parser"},"body-parser"),(0,s.kt)("p",null,"This is a ",(0,s.kt)("inlineCode",{parentName:"p"},"Express")," middleware used to parse the http requests\nbodies from text to JSON."),(0,s.kt)("h3",{id:"dotenv"},"dotenv"),(0,s.kt)("p",null,"This is a library used to populate ",(0,s.kt)("inlineCode",{parentName:"p"},"proccess.env.\\*")," using a\ntemplate file. E.g.: ",(0,s.kt)("inlineCode",{parentName:"p"},".env")),(0,s.kt)("h3",{id:"express"},"express"),(0,s.kt)("p",null,"This is a popular and battle tested web framework."),(0,s.kt)("p",null,"We currently use it for handling low level http (requests, responses, headers,\netc)."),(0,s.kt)("h3",{id:"helmet"},"helmet"),(0,s.kt)("p",null,"This is collection of ",(0,s.kt)("inlineCode",{parentName:"p"},"Express")," middlewares that ensures the bare\nminimum security gotchas when it comes to web servers."),(0,s.kt)("p",null,"E.g.: It removes the ",(0,s.kt)("inlineCode",{parentName:"p"},"X-Powered-By")," header from the http responses,\nso we don't spoil what web framework we are using, preventing attackers to\napply tool specific sploits."),(0,s.kt)("h3",{id:"http-status-codes"},"http-status-codes"),(0,s.kt)("p",null,"This is a simply tool to help readability of the HTTP status codes.\nIt provides all HTTP status through constants and also some util helpers."),(0,s.kt)("p",null,"E.g.: ",(0,s.kt)("inlineCode",{parentName:"p"},"HttpStatusCode.BAD_REQUEST")),(0,s.kt)("h3",{id:"inversify"},"inversify"),(0,s.kt)("p",null,"This is our ",(0,s.kt)("i",null,"IoC container"),"."),(0,s.kt)("p",null,"Currently, we use it in our ",(0,s.kt)("i",null,"Composition Root")," in the main layer, to\nhandle creation of instances and their scopes."),(0,s.kt)("h3",{id:"reflect-metadata"},"reflect-metadata"),(0,s.kt)("p",null,"This is a peer dependency of ",(0,s.kt)("inlineCode",{parentName:"p"},"inversify")," and it's necessary to\nperform runtime reflection on types."),(0,s.kt)("h3",{id:"tsconfig-paths"},"tsconfig-paths"),(0,s.kt)("p",null,"This library allow us use to use TypeScript path aliases in production, so our\ntranspiled JavaScript files know how to resolve the path aliased modules at\nruntime."),(0,s.kt)("p",null,"E.g.: ",(0,s.kt)("inlineCode",{parentName:"p"},"import SignUpUseCase from '@data/usecases';")),(0,s.kt)("h3",{id:"yup"},"yup"),(0,s.kt)("p",null,"This is validation library based in schemas."),(0,s.kt)("p",null,"It's very useful at our ",(0,s.kt)("i",null,"Presentation Layer")," where we do the schema\nvalidation of the inputs."),(0,s.kt)("p",null,"Remember, it's only ",(0,s.kt)("b",null,"Schema")," validation, not ",(0,s.kt)("b",null,"Domain")," validation."),(0,s.kt)("p",null,"Domain validation like verify uniqueness of an email is done at the ",(0,s.kt)("inlineCode",{parentName:"p"},"Data Layer"),"."),(0,s.kt)("h2",{id:"development-tools"},"Development tools"),(0,s.kt)(a,{type:"dev",mdxType:"ToolsTable"}),(0,s.kt)("h3",{id:"redoclyopenapi-cli"},"@redocly/openapi-cli"),(0,s.kt)("p",null,"This is used to lint our OpenAPI specs."),(0,s.kt)("h3",{id:"typesbcrypt"},"@types/bcrypt"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"bcrypt")),(0,s.kt)("h3",{id:"typesexpress"},"@types/express"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"express")),(0,s.kt)("h3",{id:"typesjest"},"@types/jest"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"jest")),(0,s.kt)("h3",{id:"typesnode"},"@types/node"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"node")),(0,s.kt)("h3",{id:"typesshelljs"},"@types/shelljs"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"shelljs")),(0,s.kt)("h3",{id:"typessupertest"},"@types/supertest"),(0,s.kt)("p",null,"Type definitions for ",(0,s.kt)("inlineCode",{parentName:"p"},"supertest")),(0,s.kt)("h3",{id:"typescript-eslinteslint-plugin"},"@typescript-eslint/eslint-plugin"),(0,s.kt)("p",null,"An ESLinst plugin to lint TypeScript syntax."),(0,s.kt)("h3",{id:"typescript-eslintparser"},"@typescript-eslint/parser"),(0,s.kt)("p",null,"The parser for ",(0,s.kt)("inlineCode",{parentName:"p"},"@typescript-eslint/eslint-plugin"),"."),(0,s.kt)("h3",{id:"eslint"},"eslint"),(0,s.kt)("p",null,"A linter enfoce a code style."),(0,s.kt)("h3",{id:"eslint-config-airbnb-base"},"eslint-config-airbnb-base"),(0,s.kt)("p",null,"A config to make ESLint respect the AirBnB styleguide."),(0,s.kt)("h3",{id:"eslint-config-airbnb-typescript"},"eslint-config-airbnb-typescript"),(0,s.kt)("p",null,"A config that makes ",(0,s.kt)("inlineCode",{parentName:"p"},"esling-config-airbnb-base")," work well with\nTypeScript."),(0,s.kt)("h3",{id:"eslint-config-prettier"},"eslint-config-prettier"),(0,s.kt)("p",null,"An ESLint config that disables some rules so ESLint and Prettier can work\ntogheter."),(0,s.kt)("h3",{id:"eslint-config-plugin-import"},"eslint-config-plugin-import"),(0,s.kt)("p",null,"This is a peer dependency of ",(0,s.kt)("inlineCode",{parentName:"p"},"eslint-config-airbnb-typescript")),(0,s.kt)("h3",{id:"factoryts"},"factory.ts"),(0,s.kt)("p",null,"This is a useful tool that generates a factory from an interface."),(0,s.kt)("p",null,"It works well with ",(0,s.kt)("inlineCode",{parentName:"p"},"faker")," to generate test data."),(0,s.kt)("h3",{id:"faker"},"faker"),(0,s.kt)("p",null,"A library to generate fake data. E.g.: names, emails, adresses, etc."),(0,s.kt)("h3",{id:"jest"},"jest"),(0,s.kt)("p",null,"A test framework with everything included out of the box: test runner,\nassertion API, mocking API, stubing API, etc."),(0,s.kt)("h3",{id:"jest-mock-extended"},"jest-mock-extended"),(0,s.kt)("p",null,"A library that enhances ",(0,s.kt)("inlineCode",{parentName:"p"},"Jest"),"'s mocking API."),(0,s.kt)("p",null,"It can for example generate a deep mock, without having to create deep nested\ndummy objects and functions"),(0,s.kt)("h3",{id:"prettier"},"prettier"),(0,s.kt)("p",null,"A library to format the codebase."),(0,s.kt)("h3",{id:"prisma"},"prisma"),(0,s.kt)("p",null,"Prisma is currently the ORM to access relational databases."),(0,s.kt)("h3",{id:"redoc-cli"},"redoc-cli"),(0,s.kt)("p",null,"This is used to generate REST API documentation (redoc) from our OpenAPI specs."),(0,s.kt)("h3",{id:"shelljs"},"shelljs"),(0,s.kt)("p",null,"A tool useful to run cross-platform OS commands. Especially useful for\nbuilding build scripts."),(0,s.kt)("h3",{id:"supertest"},"supertest"),(0,s.kt)("p",null,"A library to perform integration tests without having to hit IO."),(0,s.kt)("p",null,"TL;DR: without having to spin up a web server to test its routes."),(0,s.kt)("h3",{id:"ts-jest"},"ts-jest"),(0,s.kt)("p",null,"A Jest transformer to execute tests using TypeScript."),(0,s.kt)("h3",{id:"typescript"},"typescript"),(0,s.kt)("p",null,"The typescript transpiler."))}y.isMDXComponent=!0},2825:function(e){e.exports=JSON.parse('{"name":"@viotemplate/server","version":"1.0.0","description":"","main":"build/index.js","scripts":{"build:ts":"tsc -p tsconfig.build.json","build:docs":"redoc-cli bundle openapi.yaml --cdn -o build/public/spec.html","build":"node scripts/build.js","format":"prettier --write . --loglevel=warn && npx prisma format","lint:ts":"eslint . --ext .ts --fix --no-error-on-unmatched-pattern","lint:docs":"openapi lint openapi.yaml","lint":"npm run lint:ts && npm run lint:docs","start":"TS_NODE_BASEURL=./build node -r tsconfig-paths/register ./build/src/main/server/index.js","test":"jest --passWithNoTests","test:ci":"jest --coverage"},"keywords":[],"author":"","license":"ISC","devDependencies":{"@redocly/openapi-cli":"^1.0.0-beta.76","@types/bcrypt":"^5.0.0","@types/express":"^4.17.13","@types/jest":"^27.0.3","@types/jsonwebtoken":"^8.5.6","@types/node":"^17.0.5","@types/shelljs":"^0.8.10","@types/supertest":"^2.0.11","@typescript-eslint/eslint-plugin":"^5.8.1","@typescript-eslint/parser":"^5.8.1","eslint":"^8.5.0","eslint-config-airbnb-base":"^15.0.0","eslint-config-airbnb-typescript":"^16.1.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","factory.ts":"^0.5.2","faker":"^5.5.3","jest":"^27.4.5","jest-mock-extended":"^2.0.4","prettier":"2.5.1","prisma":"^3.7.0","redoc-cli":"^0.13.2","shelljs":"^0.8.4","supertest":"^6.1.6","ts-jest":"^27.1.2","typescript":"^4.5.4"},"dependencies":{"@prisma/client":"^3.7.0","bcrypt":"^5.0.1","body-parser":"^1.19.1","dotenv":"^10.0.0","express":"^4.17.2","helmet":"^5.0.0","http-status-codes":"^2.2.0","inversify":"^6.0.1","jsonwebtoken":"^8.5.1","reflect-metadata":"^0.1.13","tsconfig-paths":"^3.12.0","yup":"^0.32.11"},"prisma":{"schema":"src/infra/db/postgres/prisma/schema.prisma"}}')}}]);